import{Bb as l,Ia as o,T as c,ta as u}from"./chunk-RJOBSJIS.js";var r=new Map;r.set(10,{hour:0,minute:10,second:0});r.set(20,{hour:0,minute:20,second:0});r.set(45,{hour:0,minute:45,second:0});var T=(()=>{class s{interval;defaultTime=o(20);running=o(!1);timerFinish=new u;activeTime=o(r.get(this.defaultTime()));timerString=l(()=>{let{hour:e,minute:t,second:i}=this.activeTime();return e?e.toLocaleString("en-US",{minimumIntegerDigits:2})+":":""+t.toLocaleString("en-US",{minimumIntegerDigits:2})+":"+i.toLocaleString("en-US",{minimumIntegerDigits:2})});resetTimer(e){this.running.set(!1),this.interval&&clearInterval(this.interval),this.activeTime.set(r.get(e))}startTimer(e=!0){if(!e){this.running.set(!1),this.clearInterval();return}this.running.set(!0),this.clearInterval();let t=new Date,{hour:i=0,minute:a,second:m}=this.activeTime(),n=new Date;n.setHours(t.getHours()+i),n.setMinutes(t.getMinutes()+a),n.setSeconds(t.getSeconds()+m),this.interval=setInterval(()=>{this.activeTime.set(this.getRemaining(n))},1e3)}getRemaining(e){let t=new Date,i=e.getTime()-t.getTime();if(e.getTime()<t.getTime())return this.clearInterval(),this.timerFinish.next(),{hour:0,minute:0,second:0};let a=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),m=Math.floor(i%(1e3*60*60)/(1e3*60)),n=Math.floor(i%(1e3*60)/1e3);return{hour:a,minute:m,second:n}}clearInterval(){this.interval&&(clearInterval(this.interval),this.interval=null)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=c({token:s,factory:s.\u0275fac})}return s})();export{T as a};
